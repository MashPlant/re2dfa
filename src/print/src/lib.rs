// made slight difference to char::escape_default
pub fn pretty_ch_display(ch: u8) -> &'static str {
  match ch {
    0 => "0u8",
    1 => "1u8",
    2 => "2u8",
    3 => "3u8",
    4 => "4u8",
    5 => "5u8",
    6 => "6u8",
    7 => "7u8",
    8 => "8u8",
    9 => r"\\t",
    10 => r"\\n",
    11 => "11u8",
    12 => "12u8",
    13 => r"\\r",
    14 => "14u8",
    15 => "15u8",
    16 => "16u8",
    17 => "17u8",
    18 => "18u8",
    19 => "19u8",
    20 => "20u8",
    21 => "21u8",
    22 => "22u8",
    23 => "23u8",
    24 => "24u8",
    25 => "25u8",
    26 => "26u8",
    27 => "27u8",
    28 => "28u8",
    29 => "29u8",
    30 => "30u8",
    31 => "31u8",
    32 => "' '",
    33 => "'!'",
    34 => r#"\\""#,
    35 => "'#'",
    36 => "'$'",
    37 => "'%'",
    38 => "'&'",
    39 => r"\\'",
    40 => "'('",
    41 => "')'",
    42 => "'*'",
    43 => "'+'",
    44 => "','",
    45 => "'-'",
    46 => "'.'",
    47 => "'/'",
    48 => "0",
    49 => "1",
    50 => "2",
    51 => "3",
    52 => "4",
    53 => "5",
    54 => "6",
    55 => "7",
    56 => "8",
    57 => "9",
    58 => "':'",
    59 => "';'",
    60 => "'<''",
    61 => "'='",
    62 => "'>''",
    63 => "'?'",
    64 => "'@'",
    65 => "A",
    66 => "B",
    67 => "C",
    68 => "D",
    69 => "E",
    70 => "F",
    71 => "G",
    72 => "H",
    73 => "I",
    74 => "J",
    75 => "K",
    76 => "L",
    77 => "M",
    78 => "N",
    79 => "O",
    80 => "P",
    81 => "Q",
    82 => "R",
    83 => "S",
    84 => "T",
    85 => "U",
    86 => "V",
    87 => "W",
    88 => "X",
    89 => "Y",
    90 => "Z",
    91 => "'['",
    92 => r"'\\'",
    93 => "']'",
    94 => "'^'",
    95 => "'_'",
    96 => "'`'",
    97 => "a",
    98 => "b",
    99 => "c",
    100 => "d",
    101 => "e",
    102 => "f",
    103 => "g",
    104 => "h",
    105 => "i",
    106 => "j",
    107 => "k",
    108 => "l",
    109 => "m",
    110 => "n",
    111 => "o",
    112 => "p",
    113 => "q",
    114 => "r",
    115 => "s",
    116 => "t",
    117 => "u",
    118 => "v",
    119 => "w",
    120 => "x",
    121 => "y",
    122 => "z",
    123 => "'{'",
    124 => "'|'",
    125 => "'}'",
    126 => "'~'",
    127 => "127u8",
    128 => "128u8",
    129 => "129u8",
    130 => "130u8",
    131 => "131u8",
    132 => "132u8",
    133 => "133u8",
    134 => "134u8",
    135 => "135u8",
    136 => "136u8",
    137 => "137u8",
    138 => "138u8",
    139 => "139u8",
    140 => "140u8",
    141 => "141u8",
    142 => "142u8",
    143 => "143u8",
    144 => "144u8",
    145 => "145u8",
    146 => "146u8",
    147 => "147u8",
    148 => "148u8",
    149 => "149u8",
    150 => "150u8",
    151 => "151u8",
    152 => "152u8",
    153 => "153u8",
    154 => "154u8",
    155 => "155u8",
    156 => "156u8",
    157 => "157u8",
    158 => "158u8",
    159 => "159u8",
    160 => "160u8",
    161 => "161u8",
    162 => "162u8",
    163 => "163u8",
    164 => "164u8",
    165 => "165u8",
    166 => "166u8",
    167 => "167u8",
    168 => "168u8",
    169 => "169u8",
    170 => "170u8",
    171 => "171u8",
    172 => "172u8",
    173 => "173u8",
    174 => "174u8",
    175 => "175u8",
    176 => "176u8",
    177 => "177u8",
    178 => "178u8",
    179 => "179u8",
    180 => "180u8",
    181 => "181u8",
    182 => "182u8",
    183 => "183u8",
    184 => "184u8",
    185 => "185u8",
    186 => "186u8",
    187 => "187u8",
    188 => "188u8",
    189 => "189u8",
    190 => "190u8",
    191 => "191u8",
    192 => "192u8",
    193 => "193u8",
    194 => "194u8",
    195 => "195u8",
    196 => "196u8",
    197 => "197u8",
    198 => "198u8",
    199 => "199u8",
    200 => "200u8",
    201 => "201u8",
    202 => "202u8",
    203 => "203u8",
    204 => "204u8",
    205 => "205u8",
    206 => "206u8",
    207 => "207u8",
    208 => "208u8",
    209 => "209u8",
    210 => "210u8",
    211 => "211u8",
    212 => "212u8",
    213 => "213u8",
    214 => "214u8",
    215 => "215u8",
    216 => "216u8",
    217 => "217u8",
    218 => "218u8",
    219 => "219u8",
    220 => "220u8",
    221 => "221u8",
    222 => "222u8",
    223 => "223u8",
    224 => "224u8",
    225 => "225u8",
    226 => "226u8",
    227 => "227u8",
    228 => "228u8",
    229 => "229u8",
    230 => "230u8",
    231 => "231u8",
    232 => "232u8",
    233 => "233u8",
    234 => "234u8",
    235 => "235u8",
    236 => "236u8",
    237 => "237u8",
    238 => "238u8",
    239 => "239u8",
    240 => "240u8",
    241 => "241u8",
    242 => "242u8",
    243 => "243u8",
    244 => "244u8",
    245 => "245u8",
    246 => "246u8",
    247 => "247u8",
    248 => "248u8",
    249 => "249u8",
    250 => "250u8",
    251 => "251u8",
    252 => "252u8",
    253 => "253u8",
    254 => "254u8",
    255 => "255u8",
  }
}

// chs should be sorted
pub fn pretty_chs_display(chs: &[u8]) -> String {
  let mut text = String::new();
  {
    let mut i = 0;
    while i < chs.len() {
      let mut j = i;
      while j + 1 < chs.len() && chs[j + 1] == chs[j] + 1 { j += 1; }
      if j <= i + 1 {
        for i in i..=j {
          text += &format!("{}, ", pretty_ch_display(chs[i]));
        }
      } else {
        text += &format!("{}-{}, ", pretty_ch_display(chs[i]), pretty_ch_display(chs[j]));
      }
      i = j + 1;
    }
  }
  text.pop();
  text.pop();
  text
}